
#include "uart.h"
#include "Tim.h"

#define GPIOAEN		(1U<<0)
#define GPIOA_5		(1U<<5)
#define LED			GPIOA_5
static void Tim2_Callback(void);

int main(void)
{
	RCC->AHB1ENR |= GPIOAEN;

	GPIOA->MODER |= (1U <<10);
	GPIOA->MODER &= (~(1U <<11));

	UART2TX_Init();

	while(1)
	{

	}

}

static void Tim2_Callback(void)
{
	printf("A Second Passed \n\r");
	GPIOA->ODR ^=LED;

}

void TIM2_IRQHandler(void)
{
	// Clear the Update Interrupt Flag
	TIM2->SR &= ~SR_UIF;

	//Do something
	Tim2_Callback();


}




